# tcp vs udp

## tcp

## udp

## tcp与udp的差别

TCP 和 UDP 区别：

<ol>
<li>连接</li>
<ul>
<li> TCP 是面向连接的传输层协议，传输数据前先要建立连接。
<li> UDP 是不需要连接，即刻传输数据。
</ul>
<li>服务对象</li>
<ul>
<li> TCP 是一对一的两点服务，即一条连接只有两个端点。
<li> UDP 支持一对一、一对多、多对多的交互通信
</ul>

<li>可靠性</li>
<ul>
<li> TCP 是可靠交付数据的，数据可以无差错、不丢失、不重复、按序到达。
<li> UDP 是尽最大努力交付，不保证可靠交付数据。但是我们可以基于 UDP 传输协议实现一个可靠的传输协议，比如 QUIC 协议，具体可以参见这篇文章：如何基于 UDP 协议实现可靠传输？(opens new window)
</ul>

<li>拥塞控制、流量控制</li>
<ul>
<li> TCP 有拥塞控制和流量控制机制，保证数据传输的安全性。
<li> UDP 则没有，即使网络非常拥堵了，也不会影响 UDP 的发送速率。
</ul>

<li>首部开销</li>

<ul>
<li> TCP 首部长度较长，会有一定的开销，首部在没有使用「选项」字段时是 20 个字节，如果使用了「选项」字段则会变长的。
<li> UDP 首部只有 8 个字节，并且是固定不变的，开销较小。
</ul>

<li>传输方式</li>
<ul>
<li> TCP 是流式传输，没有边界，但保证顺序和可靠。
<li> UDP 是一个包一个包的发送，是有边界的，但可能会丢包和乱序。
</ul>

<li>分片不同</li>
<ul>
<li> TCP 的数据大小如果大于 MSS 大小，则会在传输层进行分片，目标主机收到后，也同样在传输层组装 TCP 数据包，如果中途丢失了一个分片，只需要传输丢失的这个分片。
<li> UDP 的数据大小如果大于 MTU 大小，则会在 IP 层进行分片，目标主机收到后，在 IP 层组装完数据，接着再传给传输层。
</ul>

</ol>
